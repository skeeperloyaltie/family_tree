<!DOCTYPE html>
<html>

<head>
    <title>
        <%= title %>
    </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="container mt-5">
        <h1>Welcome,
            <%= user.fullName %>!</h1>
        <p>
            <%= message %>
        </p>
        <p>Your unique ID (or National ID) is: <strong><%= user.nationalId || user.uniqueId %></strong></p>

        <!-- Section to display the family tree as an ontograph -->
        <section>
            <h3>Your Family Tree</h3>
            <div id="family-tree-container">
                <!-- Ontograph visualization of the family tree -->
                <ul id="ontograph" class="list-unstyled">
                    <li>
                        <span class="badge bg-primary"><%= user.fullName %> (You)</span>
                        <ul class="list-unstyled ms-4">
                            <% if (user.siblings && user.siblings.length > 0) { %>
                                <% user.siblings.forEach(function(sibling) { %>
                                    <li class="mt-2">
                                        <span class="badge bg-secondary"><%= sibling.fullName %> (Sibling)</span>
                                    </li>
                                    <% }) %>
                                        <% } else { %>
                                            <li class="mt-2">No siblings found.</li>
                                            <% } %>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>

        <!-- Additional options or links for the user -->
        <a href="/" class="btn btn-secondary mt-4">Go to Home</a>
        <a href="/users/add-sibling" class="btn btn-primary mt-4">Add a Sibling</a>
    </div>

    <style>
        /* Custom styles for the ontograph */
        
        #ontograph ul {
            position: relative;
            padding-left: 20px;
        }
        
        #ontograph ul:before {
            content: '';
            border-left: 1px solid #ccc;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 10px;
        }
        
        #ontograph li {
            margin: 0;
            padding: 10px 5px;
            position: relative;
        }
        
        #ontograph li:before {
            content: '';
            border-top: 1px solid #ccc;
            position: absolute;
            top: 10px;
            left: 0;
            right: 0;
        }
        
        #ontograph li span {
            padding: 5px 10px;
            background: #f9f9f9;
            border: 1px solid #ccc;
            display: inline-block;
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>